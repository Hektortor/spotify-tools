(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(35),o=a.n(s),i=(a(69),a(9)),l=a(10),c=a(12),u=a(11),p=a(13),d=(a(28),a(15)),m=(Object(d.a)({}),a(21)),g=a.n(m),h=a(14),f=a.n(h),y=a(29),x=a.n(y),b=a(37),v=a.n(b),k=a(57),E=a.n(k),w=a(7),S=a(22),T=(a(81),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Home",style:{background:"black",textAlign:"center",float:"left",clear:"right"}},r.a.createElement("h1",{style:{fontFamily:"Gotham Bold",color:"white",marginTop:"40px"}},"Home"),r.a.createElement(w.b,{to:"/releases"},r.a.createElement("div",{className:"card",style:{background:"linear-gradient(-45deg, #52a7ea, #712e98)",boxShadow:"0px 7px 50px 0px rgba(82,167,234,0.5)"}},r.a.createElement("h1",null,"Releases"),r.a.createElement("h4",null,"Get all the new releases of your followed artists in a glance"))),r.a.createElement(w.b,{to:"/feelings"},r.a.createElement("div",{className:"card",style:{background:"linear-gradient(-45deg, #f6356f, #ff5f50)",boxShadow:"0px 7px 50px 0px rgba(246,53,111,0.5)"}},r.a.createElement("h1",null,"Feelings"),r.a.createElement("h4",null,"Get a playlist based on your current feelings from your library tracks"))),r.a.createElement(w.b,{to:"/tops"},r.a.createElement("div",{className:"card",style:{background:"linear-gradient(-45deg, #f8ff3f, #ff9b30)",boxShadow:"0px 7px 50px 0px rgba(255,155,48,0.5)"}},r.a.createElement("h1",null,"Tops"),r.a.createElement("h4",null,"Get a playlist of your top tracks of the last 1 year, 6 months or 4 weeks"))),r.a.createElement(w.b,{to:"/statistics"},r.a.createElement("div",{className:"card",style:{background:"linear-gradient(-45deg, #e1eb01, #92d000)",boxShadow:"0px 7px 50px 0px rgba(146,208,0,0.5)"}},r.a.createElement("h1",null,"Statistics"),r.a.createElement("h4",null,"Get statistics of your hearing which you can't access on Spotify"))))}}]),t}(n.Component)),A=Object(S.e)(T),R=a(60),C=a(63),O=a(23),P=a.n(O),_=a(26),W=a.n(_),j=a(6),z=a.n(j),L=new g.a,F=function(e){function t(){var e;Object(i.a)(this,t);var a=(e=Object(c.a)(this,Object(u.a)(t).call(this))).getHashParams();return e.state={topTracks:[],currentPlaylist:{},loading:!1,created:!1,rangeSelection:1},a.access_token&&L.setAccessToken(a.access_token),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getHashParams",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}},{key:"getProfile",value:function(){var e=this;L.getMe().then(function(t){e.setState({currentUser:t})})}},{key:"getTops",value:function(){var e=this,t=this,a={};switch(this.state.rangeSelection){case 1:a={limit:50,time_range:"long_term"};break;case 2:a={limit:50,time_range:"medium_term"};break;case 3:a={limit:50,time_range:"short_term"};break;default:a={limit:50,time_range:"medium_term"}}L.getMyTopTracks(a).then(function(a){var n=[],r=[];a.items.forEach(function(e){var t={type:e.type,name:e.name,interpret:e.artists[0].name,uri:e.uri};n.push(t),r.push(e.uri)}),t.setState({topTracks:n}),e.createPlaylist(r)})}},{key:"formatDate",value:function(e){return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()}},{key:"createPlaylist",value:function(e){var t=this,a=this,n=this.state.rangeSelection,r=new Date;switch(n){case 1:r.setFullYear(r.getFullYear()-1);break;case 2:r.setMonth(r.getMonth()-6);break;case 3:r.setDate(r.getDate()-28);break;default:r.setMonth(r.getMonth()-6)}L.getMe().then(function(n){var s={name:"My Top Tracks "+t.formatDate(r)+" - "+t.formatDate(new Date),description:"Autogenerated by Spotify Tools by Viktor Frohnapfel",public:!1},o=n.id;L.createPlaylist(o,s).then(function(t){var n=t.uri,r=t.id,s=t.name;L.addTracksToPlaylist(o,r,e).then(function(e){L.getPlaylist(o,r).then(function(e){var t=e.images[0].url,r={name:s,uri:n,image:t};a.setState({created:!0,loading:!1,currentPlaylist:r})})})})})}},{key:"setRange",value:function(e){this.setState({rangeSelection:e})}},{key:"render",value:function(){var e=this,t=this.state.loading,a=this.state.created,n=this.state.rangeSelection;return r.a.createElement("div",{className:"Tops",style:{background:"black"}},r.a.createElement("h1",{style:{fontFamily:"Gotham Bold",color:"white",marginTop:"0px"}},"Get Your Personal Top Playlists"),t?r.a.createElement(P.a,{animation:"grow",variant:"success"}):r.a.createElement("div",null),r.a.createElement("div",{className:"formLayout",style:{margin:"0px",paddingTop:"20px",paddingBottom:"20px"}},r.a.createElement(W.a,{variant:"success",type:"radio",name:"rangeSelection",defaultValue:1,style:{margin:"8px",padding:"0px",background:"rgb(15, 185, 88)",borderRadius:"30px",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",textAlign:"center"}},1===n?r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"rgb(15, 185, 88)",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"30px 2px 2px 30px",paddingLeft:"30px"},onClick:function(){return e.setRange(1)},value:1},"1 year"):r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"white",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"30px 2px 2px 30px",paddingLeft:"30px"},onClick:function(){return e.setRange(1)},value:1},"1 year"),2===n?r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"rgb(15, 185, 88)",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer"},onClick:function(){return e.setRange(2)},value:2},"6 months"):r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"white",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer"},onClick:function(){return e.setRange(2)},value:2},"6 months"),3===n?r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"rgb(15, 185, 88)",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"2px 30px 30px 2px",paddingRight:"30px"},onClick:function(){return e.setRange(3)},value:3},"4 weeks"):r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"white",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"2px 30px 30px 2px",paddingRight:"30px"},onClick:function(){return e.setRange(3)},value:3},"4 weeks")),r.a.createElement(f.a,{variant:"success",style:{width:"260px",background:"rgb(15, 185, 88)",borderRadius:"30px",textTransform:"uppercase",fontWeight:"600",paddingRight:"30px",paddingLeft:"30px",fontSize:"14px"},onClick:function(){return e.getTops()}},"Get top tracks playlist"),a?r.a.createElement("a",{href:this.state.currentPlaylist.uri,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"card",style:{background:"rgb(24, 24, 24)",borderColor:"#464646",borderWidth:"2px"}},r.a.createElement("div",null,r.a.createElement("div",{style:{float:"left",borderRadius:"4px"}},r.a.createElement("img",{src:this.state.currentPlaylist.image,style:{borderRadius:"26px",borderColor:"#464646",borderWidth:"7px",width:"64px",height:"64px"},alt:"cover"})),r.a.createElement("div",{style:{float:"left",paddingLeft:"6px",paddingRight:"10px",paddingTop:"3px",paddingBottom:"3px"}},r.a.createElement("div",{style:{fontSize:"14px",fontWeight:"500",color:"white"}},this.state.currentPlaylist.name),r.a.createElement("div",{style:{fontSize:"12px",fontWeight:"500",color:"white"}},"50 Tracks"))))):r.a.createElement("div",null)))}}]),t}(n.Component),N=Object(S.e)(F),U=new g.a,B=function(e){function t(){var e;Object(i.a)(this,t);var a=(e=Object(c.a)(this,Object(u.a)(t).call(this))).getHashParams();return e.state={topTracks:[],topArtists:[],currentUser:{},loading:!1,rangeSelection:1},a.access_token&&U.setAccessToken(a.access_token),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getHashParams",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}},{key:"getProfile",value:function(){var e=this;U.getMe().then(function(t){e.setState({currentUser:t})})}},{key:"getTops",value:function(){var e=this,t=this.state.rangeSelection,a={};switch(t){case 1:a={limit:50,time_range:"long_term"};break;case 2:a={limit:50,time_range:"medium_term"};break;case 3:a={limit:50,time_range:"short_term"};break;default:a={limit:50,time_range:"medium_term"}}U.getMyTopArtists(a).then(function(t){e.setState({topArtists:t.items}),console.log(JSON.stringify(t)),console.log(t.items.length+" Top Artists loaded!"),U.getMyTopTracks(a).then(function(t){e.setState({topTracks:t.items}),console.log(JSON.stringify(t)),console.log(t.items.length+" Top Tracks loaded!")})})}},{key:"setRange",value:function(e){this.setState({rangeSelection:e})}},{key:"render",value:function(){var e=this,t=this.state.loading,a=this.state.rangeSelection;return r.a.createElement("div",{className:"Statistics",style:{background:"black"}},r.a.createElement("h1",{style:{fontFamily:"Gotham Bold",color:"white",marginTop:"0px"}},"Get your personal statistics"),t?r.a.createElement(P.a,{animation:"grow",variant:"success"}):r.a.createElement("div",null),r.a.createElement("div",{className:"formLayout",style:{margin:"0px",paddingTop:"20px",paddingBottom:"20px"}},r.a.createElement(W.a,{variant:"success",type:"radio",name:"rangeSelection",defaultValue:1,style:{margin:"8px",padding:"0px",background:"rgb(15, 185, 88)",borderRadius:"30px",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",textAlign:"center"}},1===a?r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"rgb(15, 185, 88)",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"30px 2px 2px 30px",paddingLeft:"30px"},onClick:function(){return e.setRange(1)},value:1},"1 year"):r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"white",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"30px 2px 2px 30px",paddingLeft:"30px"},onClick:function(){return e.setRange(1)},value:1},"1 year"),2===a?r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"rgb(15, 185, 88)",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer"},onClick:function(){return e.setRange(2)},value:2},"6 months"):r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"white",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer"},onClick:function(){return e.setRange(2)},value:2},"6 months"),3===a?r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"rgb(15, 185, 88)",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"2px 30px 30px 2px",paddingRight:"30px"},onClick:function(){return e.setRange(3)},value:3},"4 weeks"):r.a.createElement(z.a,{variant:"success",style:{background:"black",color:"white",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"2px 30px 30px 2px",paddingRight:"30px"},onClick:function(){return e.setRange(3)},value:3},"4 weeks")),r.a.createElement(f.a,{variant:"success",style:{width:"260px",background:"rgb(15, 185, 88)",borderRadius:"30px",textTransform:"uppercase",fontWeight:"600",paddingRight:"30px",paddingLeft:"30px",fontSize:"14px"},onClick:function(){return e.getTops()}},"Check top tracks and artists")))}}]),t}(n.Component),G=Object(S.e)(B),I=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{fontFamily:"Gotham Bold"}},r.a.createElement("h1",null,"Page Not Found"),r.a.createElement("p",null,"No match for ",this.props.location.pathname))}}]),t}(n.Component),M=Object(S.e)(I),H="https://accounts.spotify.com/authorize",J="8df5f41dfa6d43e0b6f2bf7be259268d",D=["user-read-private","user-read-email","user-read-birthdate","user-follow-read","user-library-modify","user-library-read","user-top-read","playlist-modify-private"],V=new g.a,Q=function(e){function t(){var e;Object(i.a)(this,t);var a=(e=Object(c.a)(this,Object(u.a)(t).call(this))).getHashParams();return e.state={loggedIn:!!a.access_token,currentUser:{},token:null},a.access_token&&(V.setAccessToken(a.access_token),e.setState({loggedIn:!0})),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"getHashParams",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}},{key:"getUserProfile",value:function(){var e=this;V.getMe().then(function(t){console.log(JSON.stringify(t));var a={id:t.id,name:t.display_name,country:t.country,email:t.email,spotifyUrl:t.external_urls.spotify,totalFollowers:t.followers.total,imageUrl:0!==t.images.length?t.images[0].url:"https://www.flynz.co.nz/wp-content/uploads/profile-placeholder.png",product:t.product};e.setState({currentUser:a})})}},{key:"logout",value:function(){V.setAccessToken(null),this.params=null,this.setState({loggedIn:!1})}},{key:"componentDidMount",value:function(){this.getUserProfile();var e=this.props,t=(e.match,e.location);e.history;if(void 0!==t){var a=E.a.parse(t.search);console.log(a.token)}}},{key:"render",value:function(){var e=this,t=this.state.loggedIn;return r.a.createElement(w.a,null,r.a.createElement("div",{className:"App",style:{background:"black",textAlign:"center"}},r.a.createElement(x.a,{collapseOnSelect:!0,expand:"lg",variant:"dark",sticky:"top",style:{backgroundColor:"black",background:"black",textAlign:"center"}},r.a.createElement(w.b,{to:"/"},r.a.createElement(x.a.Brand,{style:{fontFamily:"Gotham Bold"}},"Spotify Tools")),r.a.createElement(x.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(x.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(v.a,{className:"mr-auto"},r.a.createElement(w.b,{className:"link",exact:!0,to:"/"},"Home"),r.a.createElement(w.b,{className:"link",exact:!0,to:"/releases"},"Releases"),r.a.createElement(w.b,{className:"link",exact:!0,to:"/feelings"},"Feelings"),r.a.createElement(w.b,{className:"link",exact:!0,to:"/tops"},"Tops"),r.a.createElement(w.b,{className:"link",exact:!0,to:"/statistics"},"Statistics")),r.a.createElement(v.a,null,t?r.a.createElement(f.a,{variant:"success",onClick:function(){return e.logout()},style:{background:"rgb(15, 185, 88)",borderRadius:"30px",textTransform:"uppercase",fontWeight:"600",paddingRight:"30px",paddingLeft:"30px",fontSize:"14px"}},"Logout"):r.a.createElement("a",{href:"".concat(H,"?client_id=").concat(J,"&redirect_uri=").concat("http%3A%2F%2Flocalhost%3A3000%2F","&scope=").concat(D.join("%20"),"&response_type=token&show_dialog=true")},r.a.createElement(f.a,{variant:"success",style:{background:"rgb(15, 185, 88)",borderRadius:"30px",textTransform:"uppercase",fontWeight:"600",paddingRight:"30px",paddingLeft:"30px",fontSize:"14px"}},"Login with Spotify"))))),t?r.a.createElement("a",{href:this.state.currentUser.spotifyUrl,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:"card",style:{background:"rgb(24, 24, 24)",borderColor:"#464646",borderWidth:"2px"}},r.a.createElement("div",null,r.a.createElement("div",{style:{float:"left",borderRadius:"4px"}},r.a.createElement("img",{src:this.state.currentUser.imageUrl,style:{borderRadius:"26px",borderColor:"#464646",borderWidth:"7px",width:"64px",height:"64px"},alt:"cover"})),r.a.createElement("div",{style:{float:"left",paddingLeft:"10px",paddingRight:"10px",paddingTop:"3px",paddingBottom:"3px"}},r.a.createElement("div",{style:{fontSize:"14px",fontWeight:"500",color:"white",margin:"auto"}},this.state.currentUser.name," \xb7 ",this.state.currentUser.country),r.a.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"grey",margin:"auto"}},this.state.currentUser.email),r.a.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"grey",margin:"auto"}},this.state.currentUser.spotifyUrl))))):r.a.createElement("div",null),r.a.createElement("div",{className:"content",style:{height:"100vh"}},t?r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/",component:A}),r.a.createElement(S.a,{path:"/releases",component:R.a}),r.a.createElement(S.a,{path:"/feelings",component:C.a}),r.a.createElement(S.a,{path:"/tops",component:N}),r.a.createElement(S.a,{path:"/statistics",component:G}),r.a.createElement(S.a,{component:M})):r.a.createElement("a",{href:"".concat(H,"?client_id=").concat(J,"&redirect_uri=").concat("http%3A%2F%2Flocalhost%3A3000%2F","&scope=").concat(D.join("%20"),"&response_type=token&show_dialog=true")},r.a.createElement(f.a,{variant:"success",style:{margin:"20px",background:"rgb(15, 185, 88)",borderRadius:"30px",textTransform:"uppercase",fontWeight:"600",paddingRight:"30px",paddingLeft:"30px",fontSize:"14px"}},"Login with Spotify")))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},28:function(e,t,a){},60:function(e,t,a){"use strict";(function(e){var n=a(9),r=a(10),s=a(12),o=a(11),i=a(13),l=a(0),c=a.n(l),u=(a(28),a(90),a(61)),p=a.n(u),d=a(21),m=a.n(d),g=a(14),h=a.n(g),f=a(62),y=a.n(f),x=a(26),b=a.n(x),v=a(6),k=a.n(v),E=a(23),w=a.n(E),S=a(22),T=new m.a,A=function(t){function a(){var e;Object(n.a)(this,a);var t=(e=Object(s.a)(this,Object(o.a)(a).call(this))).getHashParams();return e.state={artists:[],releases:[],lastArtistId:"",lastReleaseId:"",typeSelection:1,loading:!1},t.access_token&&T.setAccessToken(t.access_token),e}return Object(i.a)(a,t),Object(r.a)(a,[{key:"getHashParams",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}},{key:"compareReleases",value:function(e,t){var a=e.date.split("-").join(""),n=t.date.split("-").join(""),r=e.interpret,s=t.interpret;return a<n?1:a>n?-1:r.localeCompare(s)}},{key:"forEachPromiseReleases",value:function(e,t,a,n){return e.reduce(function(e,r){return e.then(function(){return n(r,t,a)})},Promise.resolve())}},{key:"addReleases",value:function(t,a,n){return new Promise(function(r,s){e.nextTick(function(){T.getArtistAlbums(t.id,a).then(function(e){e.items.forEach(function(e){var a={interpret:t.name,id:e.id,name:e.name,type:e.album_type,date:e.release_date,url:e.external_urls.spotify,imageSmall:e.images[2].url};n.push(a)}),r()})})})}},{key:"getLatestReleases",value:function(){var e=this,t=this.state.artists,a=[],n={};switch(this.state.typeSelection){case 1:n={include_groups:"album",limit:1};break;case 2:n={include_groups:"single",limit:1};break;case 3:n={include_groups:"album,single",limit:1};break;default:n={limit:1}}this.forEachPromiseReleases(t,n,a,this.addReleases).then(function(){console.log(a.length+" Releases loaded"),a.sort(e.compareReleases),e.setState({releases:a,loading:!1})})}},{key:"forEachPromiseArtists",value:function(e,t,a,n,r,s){return e.reduce(function(e,o){return e.then(function(){return s(o,t,n,r,a)})},Promise.resolve())}},{key:"addArtists",value:function(t,a,n,r,s){return new Promise(function(t,o){e.nextTick(function(){n=r.state.lastArtistId,a={},a=""===n?{limit:50}:{limit:50,after:n},T.getFollowedArtists(a).then(function(e){e.artists.items.forEach(function(e){var t={id:e.id,name:e.name};s.push(t),n=e.id}),r.setState({lastArtistId:n}),t()})})})}},{key:"getFollowedArtists",value:function(){var e=this;T.getFollowedArtists({limit:1}).then(function(t){for(var a=t.artists.total,n=[],r=[],s=a/50,o=e,i=0;i<s;i++)r.push(1);e.forEachPromiseArtists(r,"",n,"",o,e.addArtists).then(function(){console.log(n.length+" Artists loaded"),e.setState({artists:n}),e.getLatestReleases()})})}},{key:"getNewFollowedArtists",value:function(){this.setState({loading:!0});var e=this.state.artists;"undefined"!==typeof e&&e.length>0?(this.setState({releases:[]}),this.getLatestReleases()):this.getFollowedArtists()}},{key:"addAlbumToLibrary",value:function(e,t){var a=[];a.push(e),T.addToMySavedAlbums(a).then(function(e){console.log(t+" successfully saved to library")})}},{key:"setType",value:function(e){this.setState({typeSelection:e})}},{key:"formatDate",value:function(e){var t=e.split("-");return t.length>1?t[2]+"."+t[1]+"."+t[0]:""+t[0]}},{key:"render",value:function(){var e=this,t=this.state.loading,a=this.state.typeSelection;return c.a.createElement("div",{style:{background:"black",textAlign:"center"}},c.a.createElement("h1",{style:{fontFamily:"Gotham Bold",color:"white",marginTop:"0px"}},"New Releases of your Followed Artists"),t?c.a.createElement(w.a,{animation:"grow",variant:"success"}):c.a.createElement("div",null),c.a.createElement("div",{className:"formLayout",style:{margin:"0px",paddingTop:"20px",paddingBottom:"20px",textAlign:"center"}},c.a.createElement(b.a,{variant:"success",type:"radio",name:"typeSelection",defaultValue:1,style:{margin:"8px",padding:"0px",background:"rgb(15, 185, 88)",borderRadius:"30px",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",textAlign:"center"}},1===a?c.a.createElement(k.a,{variant:"success",style:{background:"black",color:"rgb(15, 185, 88)",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"30px 2px 2px 30px",paddingLeft:"30px"},onClick:function(){return e.setType(1)},value:1},"Albums"):c.a.createElement(k.a,{variant:"success",style:{background:"black",color:"white",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"30px 2px 2px 30px",paddingLeft:"30px"},onClick:function(){return e.setType(1)},value:1},"Albums"),2===a?c.a.createElement(k.a,{variant:"success",style:{background:"black",color:"rgb(15, 185, 88)",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer"},onClick:function(){return e.setType(2)},value:2},"Singles"):c.a.createElement(k.a,{variant:"success",style:{background:"black",color:"white",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer"},onClick:function(){return e.setType(2)},value:2},"Singles"),3===a?c.a.createElement(k.a,{variant:"success",style:{background:"black",color:"rgb(15, 185, 88)",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"2px 30px 30px 2px",paddingRight:"30px"},onClick:function(){return e.setType(3)},value:3},"Both"):c.a.createElement(k.a,{variant:"success",style:{background:"black",color:"white",textTransform:"uppercase",fontWeight:"600",fontSize:"14px",cursor:"pointer",borderRadius:"2px 30px 30px 2px",paddingRight:"30px"},onClick:function(){return e.setType(3)},value:3},"Both")),c.a.createElement(h.a,{variant:"success",style:{width:"260px",background:"rgb(15, 185, 88)",borderRadius:"30px",textTransform:"uppercase",fontWeight:"600",paddingRight:"30px",paddingLeft:"30px",fontSize:"14px"},onClick:function(){return e.getNewFollowedArtists()}},"Check followed artists")),c.a.createElement(y.a,{style:{background:"black",textAlign:"center"}},this.state.releases.map(function(t){return c.a.createElement("div",{className:"cardRelease",style:{background:"rgb(24, 24, 24)",textAlign:"center"}},c.a.createElement("div",{id:"oben",style:{height:"64px",clear:"both"}},c.a.createElement("div",{id:"obenRechts",style:{float:"right"}},c.a.createElement("img",{style:{width:30,height:30,marginTop:"17px",marginBottom:"17px",cursor:"pointer"},alt:"cover",src:p.a,onClick:function(){return e.addAlbumToLibrary(t.id,t.name)}})),c.a.createElement("div",{id:"obenLinks",style:{float:"left",height:"64px"}},c.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{src:t.imageSmall,style:{marginRight:"4px",float:"left",borderRadius:"26px",borderColor:"#464646",borderWidth:"7px",width:"64px",height:"64px"},alt:"cover"})),c.a.createElement("div",{style:{float:"left",marginTop:"10px",marginBottom:"10px",marginLeft:"4px",textAlign:"left"}},c.a.createElement("div",{style:{fontSize:"14px",fontWeight:"500",color:"white",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t.name),c.a.createElement("div",{style:{fontSize:"12px",fontWeight:"400",color:"grey",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t.interpret)))),c.a.createElement("div",{id:"unten",style:{clear:"both",marginTop:"8px",color:"grey"}},c.a.createElement("div",{style:{marginLeft:"6px",fontSize:"14px",fontWeight:"500",float:"left",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},e.formatDate(t.date)),c.a.createElement("div",{style:{marginRight:"6px",fontSize:"12px",fontWeight:"400",float:"right",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},t.type)))})))}}]),a}(l.Component);t.a=Object(S.e)(A)}).call(this,a(42))},61:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAAAl0lEQVR4Ae3MAQYCURSG0UuNEm2hAGhHEWgFAcKQQBBJQIsIBCJhltASQgABEH3hJw3Fmy5h3LOAYyHUAA3WXBh6myY7AM7eZo+MvY1MoikjezVTX3Oo0DBgROZv+tyBgs7XZmYp6PEAoKD9sZlbKpbIUVWpWVgVbN8rWglNQtXl9GMjbJAbsjJxVL5GFf5GyLmS21+F8ATE1PHSKfdPSAAAAABJRU5ErkJggg=="},63:function(e,t,a){"use strict";(function(e){var n=a(9),r=a(10),s=a(12),o=a(11),i=a(13),l=a(0),c=a.n(l),u=(a(28),a(21)),p=a.n(u),d=a(14),m=a.n(d),g=a(23),h=a.n(g),f=a(19),y=a.n(f),x=a(22),b=new p.a,v=function(t){function a(){var e;Object(n.a)(this,a);var t=(e=Object(s.a)(this,Object(o.a)(a).call(this))).getHashParams();return e.state={tracks:[],playlist:[],currentPlaylist:{},lastTrackId:"",typeSelection:1,loading:!1,created:!1,name:"Pure Love",amount:8,feeling:"Love",trackCount:0},t.access_token&&b.setAccessToken(t.access_token),e}return Object(i.a)(a,t),Object(r.a)(a,[{key:"getHashParams",value:function(){for(var e,t={},a=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=a.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}},{key:"forEachPromiseSavedTracks",value:function(e,t,a,n,r,s,o){return e.reduce(function(e,i){return e.then(function(){return s(i,t,n,r,a,o)})},Promise.resolve())}},{key:"addSavedTracks",value:function(t,a,n,r,s,o){return new Promise(function(t,o){e.nextTick(function(){n=r.state.lastTrackId,a={},a=""===n?{limit:50}:{limit:50,after:n},b.getMySavedTracks(a).then(function(e){e.items.forEach(function(e){s.push(e.track.id),n=e.track.id}),r.setState({lastTrackId:n,tracks:s}),t()})})})}},{key:"getSavedTracks",value:function(e){for(var t=this,a=[],n=[],r=e/50,s=0;s<r;s++)n.push(1);this.forEachPromiseSavedTracks(n,"",a,"",this,this.addSavedTracks).then(function(){console.log(a.length+" Tracks loaded"),t.setState({tracks:a}),t.getTracksFeelings(a)})}},{key:"equals",value:function(e,t){return!!e.danceability(t.danceability)&&(!!e.acousticness(t.acousticness)&&(!!e.energy(t.energy)&&(!!e.loudness(t.loudness)&&(!!e.instrumentalness(t.instrumentalness)&&(!!e.liveness(t.liveness)&&(!!e.mode(t.mode)&&(!!e.speechiness(t.speechiness)&&(!!e.tempo(t.tempo)&&(!!e.time_signature(t.time_signature)&&(!!e.valence(t.valence)&&!!e.key(t.key)))))))))))}},{key:"less",value:function(e){return function(t){return t<e}}},{key:"greater",value:function(e){return function(t){return t>e}}},{key:"and",value:function(e,t){return function(a){return e(a)&&t(a)}}},{key:"matchesFeeling",value:function(e,t){var a={danceability:this.less(1),acousticness:this.less(1),energy:this.less(1),loudness:this.less(10),instrumentalness:this.less(1),liveness:this.less(1),mode:this.less(1),speechiness:this.less(1),tempo:this.less(130),time_signature:this.less(30),valence:this.less(1),key:this.less(20)},n={danceability:t.danceability,acousticness:t.acousticness,energy:t.energy,loudness:t.loudness,instrumentalness:t.instrumentalness,liveness:t.liveness,mode:t.mode,speechiness:t.speechiness,tempo:t.tempo,time_signature:t.time_signature,valence:t.valence,key:t.key};switch(e){case"Love":return this.equals(a,n);case"Sorrow":case"Joy":case"Rage":return this.equals({danceability:1,acousticness:1,energy:1,loudness:1,instrumentalness:1,liveness:1,mode:1,speechiness:1,tempo:1,time_signature:1,valence:1,key:1},n);default:return this.equals(a,n)}}},{key:"createPlaylist",value:function(e){var t=this,a=this.state.name;b.getMe().then(function(n){var r={name:a,description:"Autogenerated by Viktor Frohnapfel",public:!1},s=n.id;b.createPlaylist(s,r).then(function(a){var n=a.uri,r=a.id,o=a.name;b.addTracksToPlaylist(s,r,e).then(function(e){var a={name:o,uri:n};t.setState({created:!0,loading:!1,currentPlaylist:a})})})})}},{key:"getTracksFeelings",value:function(e){var t=this,a=[],n=this,r=this.state.feeling,s=this.state.amount,o=this.state.trackCount;b.getAudioFeaturesForTracks(e).then(function(e){e.audio_features.forEach(function(e){t.matchesFeeling(r,e)&&a.length<s&&(a.push(e.uri),o++,console.log(JSON.stringify(e)))}),n.setState({playlist:a,trackCount:o}),t.createPlaylist(a)})}},{key:"createFeelingPlaylist",value:function(){""!==this.state.name&&this.getSavedTracks(50)}},{key:"handleAmountChange",value:function(e){this.setState({amount:e.target.value})}},{key:"handleFeelingChange",value:function(e){this.setState({feeling:e.target.value})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.loading,a=this.state.created;return c.a.createElement("div",{className:"Releases",style:{background:"black"}},c.a.createElement("h1",{style:{fontFamily:"Gotham Bold",color:"white",marginTop:"40px"}},"Create playlists from your library with your current feelings"),c.a.createElement("div",{className:"formLayout",style:{margin:"12px",padding:"20px"}},c.a.createElement(y.a,null,c.a.createElement(y.a.Group,{controlId:"form.name"},c.a.createElement(y.a.Label,null,"Playlist Name"),c.a.createElement(y.a.Control,{type:"text",placeholder:"e. g. Pure Love",onChange:function(t){return e.handleNameChange(t)}})),c.a.createElement(y.a.Group,{controlId:"form.feeling"},c.a.createElement(y.a.Label,null,"Select feeling..."),c.a.createElement(y.a.Control,{as:"select",onChange:function(t){return e.handleFeelingChange(t)}},c.a.createElement("option",null,"Love"),c.a.createElement("option",null,"Sorrow"),c.a.createElement("option",null,"Joy"),c.a.createElement("option",null,"Rage"))),c.a.createElement(y.a.Group,{controlId:"form.amount"},c.a.createElement(y.a.Label,null,"Select amount of tracks"),c.a.createElement(y.a.Control,{as:"select",onChange:function(t){return e.handleAmountChange(t)}},c.a.createElement("option",null,"8"),c.a.createElement("option",null,"16"),c.a.createElement("option",null,"32"),c.a.createElement("option",null,"64"),c.a.createElement("option",null,"96"),c.a.createElement("option",null,"128"))),c.a.createElement(m.a,{variant:"success",style:{margin:"12px",background:"rgb(15, 185, 88)",borderRadius:"30px",textTransform:"uppercase",fontWeight:"600",paddingRight:"30px",paddingLeft:"30px",fontSize:"14px"},disabled:!0},"Coming Soon")),t?c.a.createElement(h.a,{animation:"grow",variant:"success"}):c.a.createElement("div",null),a?c.a.createElement("a",{href:this.state.currentPlaylist.uri,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("div",{className:"card",style:{background:"rgb(24, 24, 24)",borderColor:"#464646",borderWidth:"2px"}},c.a.createElement("div",null,c.a.createElement("div",{style:{float:"left",borderRadius:"4px"}},c.a.createElement("img",{src:"https://cdn3.iconfinder.com/data/icons/UltimateGnome/256x256/apps/gnome-cd.png",style:{borderRadius:"26px",borderColor:"#464646",borderWidth:"7px",width:"64px",height:"64px"},alt:"cover"})),c.a.createElement("div",{style:{float:"left",paddingLeft:"10px",paddingRight:"10px",paddingTop:"3px",paddingBottom:"3px"}},c.a.createElement("div",{style:{fontSize:"18px",fontWeight:"500",color:"white",margin:"auto"}},this.state.currentPlaylist.name),c.a.createElement("div",{style:{fontSize:"16px",fontWeight:"500",color:"white",margin:"auto"}},this.state.trackCount," Tracks"))))):c.a.createElement("div",null)))}}]),a}(l.Component);t.a=Object(x.e)(v)}).call(this,a(42))},64:function(e,t,a){e.exports=a(128)},69:function(e,t,a){},81:function(e,t,a){},90:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.ca62a5f4.chunk.js.map